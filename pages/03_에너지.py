import streamlit as st
import pandas as pd
import plotly.express as px

# 페이지 설정
st.set_page_config(page_title="재생에너지 발표", layout="wide")

# 사이드바 메뉴
page = st.sidebar.selectbox(
    "📘 발표 목차",
    [
        "1. 개요",
        "2. 국가별 재생에너지 비교",
        "3. 장점과 한계",
        "4. 미래 전망",
        "5. 결론"
    ]
)

# ------------------------ 1. 개요 ------------------------
if page == "1. 개요":
    st.title("🌱 재생에너지란 무엇인가?")
    st.markdown("""
    재생에너지는 자연에서 반복적으로 얻을 수 있는 에너지 자원을 말하며, 대표적으로 태양광, 풍력, 수력, 바이오매스, 지열 등이 있습니다.
    
    🔹 **필요성**
    - 기후위기 대응 (탄소중립)
    - 화석연료 고갈 문제 해결
    - 에너지 안보 및 지속가능한 발전

    🔹 **주요 종류**
    - ☀️ 태양광: 전 세계적으로 가장 빠르게 성장
    - 💨 풍력: 육상 및 해상에서 전기 생산
    - 💧 수력: 오래된 기술이지만 여전히 핵심
    - 🌿 바이오매스, 🔥 지열 등도 지역별로 활용

    👉 앞으로의 에너지 전환의 핵심은 '재생에너지'입니다.
    """)

# ------------------------ 2. 국가별 재생에너지 비교 ------------------------
elif page == "2. 국가별 재생에너지 비교":
    st.title("🌍 국가별 재생에너지 비율 및 특징")

    # 데이터 구성
    data = {
        "국가": ["대한민국", "독일", "미국", "중국", "노르웨이", "인도", "브라질", "일본"],
        "비율(%)": [7.5, 46.2, 20.1, 29.0, 98.0, 22.3, 83.5, 19.8],
        "특징": [
            "태양광 중심, 석탄 의존도 높음",
            "풍력·태양광 선도국, 원자력 감축 중",
            "풍력·수력 중심, 주별 정책 다양",
            "설치량 세계 1위, 석탄도 병행",
            "거의 모든 전기를 수력으로 생산",
            "농촌 태양광 확산 중, 가능성 높음",
            "수력 주도, 전체 전력 중 80% 이상",
            "지열·태양광 개발, 화석연료 의존 여전"
        ]
    }
    df = pd.DataFrame(data)

    # 시각화
    fig = px.bar(
        df,
        x="국가",
        y="비율(%)",
        text="비율(%)",
        color="비율(%)",
        color_continuous_scale="Viridis",
        title="국가별 재생에너지 발전 비율"
    )
    fig.update_traces(texttemplate="%{text}%", textposition="outside")
    fig.update_layout(yaxis_range=[0, 100], coloraxis_showscale=False)

    st.plotly_chart(fig, use_container_width=True)

    # 설명
    st.subheader("🔍 국가별 특징 요약")
    for i, row in df.iterrows():
        st.markdown(f"**{row['국가']}**: {row['특징']}")

# ------------------------ 3. 장점과 한계 ------------------------
elif page == "3. 장점과 한계":
    st.title("⚖️ 재생에너지의 장점과 한계")

    col1, col2 = st.columns(2)

    with col1:
        st.subheader("✅ 장점")
        st.markdown("""
        - 탄소 배출이 거의 없음 (기후 변화 대응)
        - 무한한 에너지 자원 (자연순환)
        - 에너지 자립 및 지역경제 활성화
        - 연료비 없음 (운영비 절감)

        """)

    with col2:
        st.subheader("⚠️ 한계")
        st.markdown("""
        - 날씨와 자연환경에 의존 (불안정성)
        - 초기 설치 비용 부담
        - 저장 기술(배터리) 부족
        - 생태계 및 지역 갈등 유발 가능
        """)

# ------------------------ 4. 미래 전망 ------------------------
elif page == "4. 미래 전망":
    st.title("🔮 재생에너지의 미래와 기술 발전")

    st.markdown("""
    🌐 전 세계적으로 재생에너지 투자는 매년 증가하고 있으며, 주요 국제기구와 국가들이 2050년 탄소중립을 목표로 설정하고 있습니다.

    ### 📈 기술 발전 추세
    - 고효율 태양전지, 부유식 해상풍력, AI 기반 에너지 예측 기술 등 발전 중
    - ESS(에너지 저장 장치), 수소 연계도 각광

    ### 🌍 글로벌 동향
    - EU: 2030년까지 재생에너지 비율 42.5% 이상 목표
    - 중국: 2030년까지 비화석에너지 비율 25% 달성 목표
    - 한국: 2036년까지 재생에너지 비중 30.6%로 확대 예정

    👉 향후 기술 + 정책 + 시민 참여가 핵심입니다.
    """)

# ------------------------ 5. 결론 ------------------------
elif page == "5. 결론":
    st.title("🧩 결론: 지속가능한 미래를 위한 선택")

    st.markdown("""
    🌱 **재생에너지는 기후위기와 에너지 문제를 동시에 해결할 수 있는 열쇠입니다.**

    - 우리는 단순한 기술 변화가 아닌 ‘에너지 패러다임 전환’의 시대에 살고 있습니다.
    - 각국은 이미 정책과 투자를 통해 빠르게 전환 중이며, 우리도 더 적극적인 참여가 필요합니다.

    ### ✅ 발표 요약
    - 재생에너지는 지속가능성과 친환경성을 갖춘 대안
    - 국가별 상황은 다양하지만 공통의 방향은 "확대"
    - 기술, 정책, 시민 인식의 변화가 함께해야 성공 가능

    🔔 **이제, 질문 있으신가요?**
    """)
    import pandas as pd
import plotly.express as px

# CSV 파일 불러오기
df = pd.read_csv("renewable_energy.csv")

# 선 그래프 생성
fig = px.line(
    df,
    x="Year",
    y="Renewable_Energy_GWh",
    color="Country",
    markers=True,
    title="국가별 재생에너지 생산량 추이",
    labels={"Renewable_Energy_GWh": "재생에너지 생산량 (GWh)"}
)

# 그래프 출력
fig.show()

